<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Forza Sbit</title>
    <meta
      name="description"
      content="Sito ufficiale ‚Äî Forza Sbit. Una community unita. Meno parole, pi√π azioni."
    />
    <link rel="icon" type="image/png" href="images/logo-bertoleo.png" />
    <link
      rel="shortcut icon"
      type="image/png"
      href="images/logo-bertoleo.png"
    />
    <link rel="apple-touch-icon" href="images/logo-bertoleo.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <style>
      /* RESET */
      *,
      *::before,
      *::after {
        box-sizing: border-box;
      }
      html {
        scroll-behavior: smooth;
      }
      html,
      body {
        margin: 0;
        font-family: "Fredoka", Inter, system-ui, -apple-system, Segoe UI,
          Roboto, Arial, sans-serif;
      }

      :root {
        --blue: #0a3cff;
        --blue-dark: #0629a0;
        --blue-soft: #0e49ff;
        --white: #ffffff;
        --muted: #c7d2fe;
        --accent: #ffd700;
        --bg-light: #0a1e3f;
        --bg-dark: #050d1f;
        --text-light: #e0e0e0;
        --text-muted: #9ca3af;
      }

      body {
        background: url("images/sfondo-forza-italia.png"),
          linear-gradient(
            135deg,
            rgba(6, 41, 160, 0.85) 0%,
            rgba(10, 60, 255, 0.85) 50%,
            rgba(14, 73, 255, 0.85) 100%
          );
        background-size: cover, 200% 200%;
        background-position: center center, 0% 50%;
        background-repeat: no-repeat, no-repeat;
        background-attachment: fixed, fixed;
        animation: gradientShift 15s ease infinite;
        color: var(--white);
        min-height: 100vh;
        position: relative;
        transition: all 0.3s ease;
      }

      body.dark-mode {
        background: linear-gradient(
          135deg,
          var(--bg-dark) 0%,
          var(--bg-light) 50%,
          #0a1e3f 100%
        );
        color: var(--text-light);
      }

      body.dark-mode section {
        color: var(--text-light);
      }

      @keyframes gradientShift {
        0%,
        100% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
      }

      .container {
        width: 100%;
        margin: 0;
        padding: 20px 40px;
      }

      /* Header Sticky */
      header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 20px;
        height: 80px;
        background: rgba(8, 30, 115, 0.95);
        backdrop-filter: blur(10px);
        border-radius: 16px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        position: sticky;
        top: 12px;
        z-index: 1000;
        transition: all 0.3s ease;
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      /* Center nav in header and keep actions at right */
      nav.header-nav {
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        z-index: 50;
      }

      .header-actions {
        display: flex;
        align-items: center;
        gap: 12px;
      }

      /* Header right background with freccia and logo button */
      .header-cta {
        display: flex;
        align-items: center;
        gap: 16px;
        padding-right: 12px;
      }
      .header-cta .menu-phrase {
        font-size: 15px;
        white-space: nowrap;
      }
      .header-arrow {
        width: 48px;
        height: auto;
        opacity: 0.95;
      }
      .logo-btn {
        background: none;
        border: none;
        cursor: pointer;
        padding: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
      }
      .logo-btn:hover {
        transform: scale(1.08);
        filter: drop-shadow(0 6px 18px rgba(255, 215, 0, 0.4));
      }

      body.dark-mode header {
        background: rgba(5, 13, 31, 0.95);
        border-color: rgba(255, 255, 255, 0.05);
      }

      header:hover {
        box-shadow: 0 12px 48px rgba(0, 0, 0, 0.4);
        transform: translateY(-2px);
      }

      .brand {
        display: flex;
        align-items: center;
        gap: 12px;
        transition: transform 0.3s ease;
      }

      .brand:hover {
        transform: scale(1.05);
      }

      .brand img {
        transition: all 0.3s ease;
        filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
      }

      .brand:hover img {
        transform: rotate(5deg) scale(1.1);
        filter: drop-shadow(0 6px 12px rgba(255, 215, 0, 0.4));
      }

      h1 {
        font-size: 22px;
        margin: 0;
        line-height: 1.2;
        background: linear-gradient(45deg, #fff, var(--muted));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      nav ul {
        list-style: none;
        display: flex;
        gap: 18px;
        margin: 0;
        padding: 0;
        align-items: center;
        height: 100%;
      }
      nav a {
        position: relative;
        color: white;
        text-decoration: none;
        font-weight: 600;
        font-size: 13px;
        text-transform: uppercase;
        letter-spacing: 0.4px;
        opacity: 0.9;
        transition: all 0.3s ease;
        display: inline-flex;
        align-items: center;
        height: 48px;
        padding: 0 6px;
        transform: translateY(6px);
      }

      nav a::after {
        content: "";
        position: absolute;
        left: 0;
        bottom: 0;
        width: 0;
        height: 2px;
        background: linear-gradient(90deg, var(--accent), var(--white));
        transition: width 0.3s ease;
      }

      nav a:hover {
        opacity: 1;
        transform: translateY(-2px);
      }

      nav a:hover::after {
        width: 100%;
      }

      @media (max-width: 900px) {
        nav a {
          font-size: 16px;
          padding: 6px 0;
        }
        nav ul {
          gap: 20px;
        }
      }

      @media (max-width: 600px) {
        nav a {
          font-size: 14px;
          padding: 5px 0;
        }
        nav ul {
          gap: 12px;
          flex-wrap: wrap;
        }
      }

      .btn {
        nav a {
          font-size: 14px;
          padding: 5px 0;
          height: auto;
          align-items: flex-start;
          transform: none;
        }
        border-radius: 50px;
        border: none;
        font-weight: 600;
        cursor: pointer;
        font-size: 14px;
        font-family: "Fredoka", Inter, system-ui, sans-serif;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .btn::before {
        content: "";
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.2);
        transform: translate(-50%, -50%);
        transition: width 0.6s, height 0.6s;
      }

      .btn:hover::before {
        width: 300px;
        height: 300px;
      }

      .btn-primary {
        background: linear-gradient(135deg, var(--white), var(--muted));
        color: var(--blue-dark);
        box-shadow: 0 4px 15px rgba(255, 255, 255, 0.3);
      }

      .btn-primary:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(255, 255, 255, 0.4);
      }

      .btn-ghost {
        background: rgba(255, 255, 255, 0.1);
        color: white;
        border: 2px solid rgba(255, 255, 255, 0.3);
        backdrop-filter: blur(10px);
      }

      .btn-ghost:hover {
        background: rgba(255, 255, 255, 0.2);
        border-color: var(--accent);
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(255, 215, 0, 0.3);
      }

      .hero {
        display: none;
        grid-template-columns: 1.3fr 0.7fr;
        gap: 16px;
        margin: 20px 0;
        animation: fadeInUp 0.8s ease;
      }

      .hero.active {
        display: grid;
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .card {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(15px);
        border-radius: 16px;
        padding: 35px;
        border: 1px solid rgba(255, 255, 255, 0.15);
        transition: all 0.4s ease;
        animation: fadeIn 1s ease;
        margin-bottom: 60px; /* increased spacing between cards for readability */
      }

      body.dark-mode .card {
        background: rgba(255, 255, 255, 0.05);
        border-color: rgba(255, 255, 255, 0.08);
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3);
        background: rgba(255, 255, 255, 0.15);
        border-color: rgba(255, 255, 255, 0.25);
      }

      .card img {
        transition: all 0.4s ease;
        border-radius: 12px;
      }

      .card:hover img {
        transform: scale(1.03);
      }

      h2,
      h3,
      h4 {
        margin: 0 0 25px;
        line-height: 1.3;
      }

      h2 {
        font-size: 36px;
        background: linear-gradient(45deg, #fff, var(--muted));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 35px;
      }
      h3 {
        font-size: 26px;
      }
      h4 {
        font-size: 18px;
      }

      section {
        margin: 80px 0 100px 0; /* increase vertical breathing room for sections */
        animation: fadeInUp 0.6s ease backwards;
        display: none;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      section.active {
        display: block;
        opacity: 1;
      }

      section:nth-child(1) {
        animation-delay: 0.1s;
      }
      section:nth-child(2) {
        animation-delay: 0.2s;
      }
      section:nth-child(3) {
        animation-delay: 0.3s;
      }
      section:nth-child(4) {
        animation-delay: 0.4s;
      }

      ul {
        padding-left: 20px;
        margin: 20px 0;
      }
      li {
        margin-bottom: 14px;
        transition: transform 0.2s ease;
        padding-left: 8px;
        line-height: 1.7;
      }

      li:hover {
        transform: translateX(8px);
        color: var(--accent);
      }

      footer {
        margin-top: 70px;
        text-align: center;
        font-size: 13px;
        color: var(--muted);
        padding: 50px 0;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
      }

      body.dark-mode footer {
        border-color: rgba(255, 255, 255, 0.05);
        color: var(--text-muted);
      }

      img {
        max-width: 100%;
        height: auto;
      }

      input[type="text"],
      input[type="email"],
      textarea {
        padding: 16px 18px;
        border-radius: 10px;
        border: 2px solid rgba(255, 255, 255, 0.2);
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        color: white;
        font-size: 14px;
        width: 100%;
        margin-bottom: 18px;
        font-family: inherit;
        transition: all 0.3s ease;
      }

      body.dark-mode input[type="text"],
      body.dark-mode input[type="email"],
      body.dark-mode textarea {
        background: rgba(255, 255, 255, 0.05);
        border-color: rgba(255, 255, 255, 0.1);
        color: var(--text-light);
      }

      input::placeholder,
      textarea::placeholder {
        color: rgba(255, 255, 255, 0.6);
      }

      input:focus,
      textarea:focus {
        outline: none;
        border-color: var(--accent);
        background: rgba(255, 255, 255, 0.15);
        box-shadow: 0 0 20px rgba(255, 215, 0, 0.2);
        transform: scale(1.02);
      }

      textarea {
        min-height: 130px;
        resize: vertical;
        line-height: 1.6;
      }

      /* Scroll to Top Button */
      #scrollTop {
        position: fixed;
        bottom: 30px;
        right: 30px;
        width: 50px;
        height: 50px;
        background: linear-gradient(135deg, var(--blue), var(--blue-soft));
        color: white;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        z-index: 999;
        font-size: 20px;
      }

      #scrollTop.show {
        opacity: 1;
        visibility: visible;
      }

      #scrollTop:hover {
        transform: translateY(-5px) scale(1.1);
        box-shadow: 0 6px 25px rgba(0, 0, 0, 0.4);
      }

      /* Stats Section */
      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 28px;
        margin: 35px 0;
      }

      .stat-card {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(15px);
        border-radius: 16px;
        padding: 35px 25px;
        text-align: center;
        border: 1px solid rgba(255, 255, 255, 0.15);
        transition: all 0.4s ease;
      }

      body.dark-mode .stat-card {
        background: rgba(255, 255, 255, 0.05);
        border-color: rgba(255, 255, 255, 0.08);
      }

      .stat-card:hover {
        transform: translateY(-8px) scale(1.05);
        box-shadow: 0 15px 40px rgba(255, 215, 0, 0.3);
        border-color: var(--accent);
      }

      .stat-number {
        font-size: 42px;
        font-weight: 700;
        background: linear-gradient(45deg, var(--accent), #fff);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        display: block;
        margin-bottom: 8px;
      }

      .stat-label {
        font-size: 14px;
        color: var(--muted);
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      /* Countdown Timer */
      .countdown {
        display: flex;
        gap: 12px;
        justify-content: center;
        margin: 20px 0;
        flex-wrap: wrap;
      }

      .countdown-item {
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(10px);
        border-radius: 12px;
        padding: 15px 20px;
        text-align: center;
        border: 1px solid rgba(255, 255, 255, 0.2);
        min-width: 80px;
      }

      .countdown-number {
        font-size: 32px;
        font-weight: 700;
        color: var(--accent);
        display: block;
      }

      .countdown-label {
        font-size: 11px;
        text-transform: uppercase;
        color: var(--muted);
        letter-spacing: 1px;
      }

      /* Social Share */
      .social-share {
        display: flex;
        gap: 12px;
        margin: 20px 0 25px 0;
        flex-wrap: wrap;
      }

      .social-btn {
        padding: 8px 16px;
        border-radius: 25px;
        border: none;
        cursor: pointer;
        font-weight: 600;
        font-size: 13px;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .social-btn:hover {
        transform: translateY(-3px) scale(1.05);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      }

      /* Newsletter */
      .newsletter {
        background: linear-gradient(
          135deg,
          rgba(255, 215, 0, 0.2),
          rgba(255, 255, 255, 0.1)
        );
        border: 2px solid var(--accent);
        border-radius: 16px;
        padding: 35px;
        margin: 35px 0;
      }

      body.dark-mode .newsletter {
        background: linear-gradient(
          135deg,
          rgba(255, 215, 0, 0.1),
          rgba(255, 255, 255, 0.05)
        );
        border-color: rgba(255, 215, 0, 0.5);
      }

      .newsletter-form {
        display: flex;
        gap: 12px;
        margin-top: 20px;
      }

      .newsletter-form input {
        flex: 1;
        margin: 0;
      }

      /* Progress Bar */
      .progress-section {
        margin: 35px 0;
      }

      .progress-item {
        margin-bottom: 28px;
      }

      .progress-label {
        display: flex;
        justify-content: space-between;
        margin-bottom: 8px;
        font-size: 14px;
        font-weight: 600;
      }

      .progress-bar {
        height: 12px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        overflow: hidden;
        position: relative;
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, var(--accent), #fff);
        border-radius: 10px;
        transition: width 1s ease;
        box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
      }

      /* Modal */
      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        backdrop-filter: blur(5px);
        z-index: 2000;
        align-items: center;
        justify-content: center;
        animation: fadeIn 0.3s ease;
      }

      .sections-grid {
        display: none;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin: 20px 0;
      }

      .sections-grid.active {
        display: grid;
      }

      .modal.show {
        display: flex;
      }

      .modal-content {
        background: linear-gradient(135deg, var(--blue-dark), var(--blue));
        border-radius: 20px;
        padding: 30px;
        max-width: calc(100% - 80px);
        width: auto;
        max-height: calc(100vh - 80px);
        overflow: hidden;
        border: 2px solid var(--accent);
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        animation: scaleIn 0.3s ease;
      }

      .modal-content img {
        max-width: 80%;
        max-height: 85vh;
        width: auto;
        height: auto;
        object-fit: contain;
        display: block;
        border-radius: 12px;
      }

      #modal-body h2 {
        color: #fff;
        margin: 0 0 12px;
        text-align: center;
      }

      #modal-body img {
        /* more specific to override inline styles */
        max-width: 80%;
        max-height: 85vh !important;
        border-radius: 12px;
      }

      @media (max-width: 900px) {
        .modal-content img {
          max-width: 90%;
          max-height: 85vh;
        }
      }

      @media (max-width: 600px) {
        .modal-content img {
          max-width: 90%;
          max-height: 70vh;
        }
      }

      @keyframes scaleIn {
        from {
          transform: scale(0.8);
          opacity: 0;
        }
        to {
          transform: scale(1);
          opacity: 1;
        }
      }

      .modal-close {
        float: right;
        font-size: 28px;
        font-weight: bold;
        cursor: pointer;
        color: var(--accent);
        transition: transform 0.2s ease;
      }

      .modal-close:hover {
        transform: rotate(90deg);
      }

      @media (max-width: 900px) {
        .brand img {
          width: 64px;
          height: 64px;
          border-radius: 12px;
        }
        nav a {
          font-size: 14px;
          padding: 5px 0;
          height: auto;
          align-items: flex-start;
        }
        header {
          height: auto;
          padding: 10px 12px;
        }
        .header-inner {
          gap: 16px;
        }
        /* Revert centered nav on small screens */
        nav.header-nav {
          position: static;
          left: auto;
          top: auto;
          transform: none;
        }
        .stats-grid {
          grid-template-columns: 1fr;
        }
        div[style*="display:grid;grid-template-columns:1fr 1fr"] {
          grid-template-columns: 1fr !important;
        }
        .newsletter-form {
          flex-direction: column;
        }
        #scrollTop {
          bottom: 20px;
          right: 20px;
        }
      }

      /* GALLERY STYLES */
      .gallery-item {
        position: relative;
        overflow: hidden;
        border-radius: 12px;
        aspect-ratio: 1;
        cursor: pointer;
        transition: all 0.3s ease;
        background: rgba(255, 255, 255, 0.1);
      }

      .gallery-item:hover {
        transform: scale(1.05);
        box-shadow: 0 8px 25px rgba(255, 215, 0, 0.3);
      }

      .gallery-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
      }

      .gallery-item-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.6);
        opacity: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 32px;
        transition: opacity 0.3s ease;
      }

      .gallery-item:hover .gallery-item-overlay {
        opacity: 1;
      }

      /* POLL STYLES */
      .poll-card {
        background: rgba(255, 255, 255, 0.1);
        border: 2px solid rgba(255, 255, 255, 0.15);
        border-radius: 16px;
        padding: 25px;
        transition: all 0.3s ease;
      }

      body.dark-mode .poll-card {
        background: rgba(255, 255, 255, 0.05);
        border-color: rgba(255, 255, 255, 0.08);
      }

      .poll-card:hover {
        background: rgba(255, 255, 255, 0.15);
        border-color: rgba(255, 255, 255, 0.25);
      }

      .poll-option {
        display: flex;
        align-items: center;
        margin-bottom: 15px;
        gap: 12px;
        cursor: pointer;
        padding: 10px;
        border-radius: 10px;
        transition: all 0.2s ease;
      }

      .poll-option:hover {
        background: rgba(255, 255, 255, 0.08);
      }

      .poll-option input[type="radio"] {
        width: 18px;
        height: 18px;
        cursor: pointer;
        accent-color: var(--accent);
      }

      .poll-bar {
        height: 6px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        overflow: hidden;
        margin-top: 8px;
      }

      .poll-fill {
        height: 100%;
        background: linear-gradient(90deg, var(--accent), #fff);
        transition: width 0.5s ease;
      }

      /* TIMELINE STYLES */
      .timeline-item {
        position: relative;
        padding-left: 40px;
        margin-bottom: 30px;
        padding-bottom: 20px;
        border-left: 3px solid rgba(255, 215, 0, 0.3);
      }

      .timeline-item::before {
        content: "";
        position: absolute;
        left: -9px;
        top: 0;
        width: 15px;
        height: 15px;
        border-radius: 50%;
        background: var(--accent);
        border: 3px solid var(--blue-dark);
        transition: all 0.3s ease;
      }

      .timeline-item:hover::before {
        width: 20px;
        height: 20px;
        left: -12px;
        box-shadow: 0 0 15px var(--accent);
      }

      .timeline-date {
        font-size: 13px;
        color: var(--accent);
        font-weight: 700;
        text-transform: uppercase;
        margin-bottom: 5px;
      }

      .timeline-title {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 8px;
      }

      .timeline-description {
        color: var(--muted);
        font-size: 14px;
        line-height: 1.6;
      }
      .join-section .card {
        padding: 18px;
        margin-top: 12px;
      }
      .join-section .card img.join-illustration {
        display: block;
        width: 720px; /* increased size per request */
        max-width: 80%;
        margin: 0 auto 18px auto; /* center horizontally and add space below */
        border-radius: 14px;
        cursor: pointer;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
      }
      .join-section h3 {
        margin-top: 0;
        margin-bottom: 8px;
        font-size: 18px;
      }
      .join-section p {
        margin-bottom: 10px;
        color: var(--muted);
        line-height: 1.5;
      }
      .join-section .newsletter {
        margin-top: 12px;
      }
      .join-section .newsletter-form,
      .join-section #contact-form {
        max-width: 480px;
        width: 100%;
      }
      .join-section .newsletter-form input,
      .join-section #contact-form input,
      .join-section #contact-form textarea {
        padding: 10px 12px;
        margin-bottom: 8px;
        font-size: 14px;
      }
      .join-section #contact-form textarea {
        min-height: 100px;
      }
      .join-section .btn {
        padding: 8px 14px;
        font-size: 14px;
      }
      .join-section .card + .card {
        margin-top: 12px;
      }
      .join-section:after {
        content: "";
        display: block;
        clear: both;
      }

      @media (max-width: 900px) {
        .join-section .card img.join-illustration {
          width: 100%;
          max-width: 100%;
          float: none;
          margin: 0 0 12px 0;
        }
        .join-section .newsletter-form,
        .join-section #contact-form {
          max-width: 100%;
        }
      }

      /* Layout: place newsletter and contact side-by-side on wide screens */
      .join-forms {
        display: flex;
        gap: 18px;
        align-items: flex-start; /* align children to top */
        margin-top: 40px; /* lowered the sections */
      }

      /* Make each column a vertical flex container so their content can stretch */
      .join-forms .newsletter,
      .join-forms > .card,
      .join-forms .join-extra {
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        flex: 1 1 0; /* make all three columns equally flexible */
        min-width: 200px;
        max-width: none;
      }

      /* Small tweak to keep inputs comfortable on wide screens */
      .join-forms .newsletter {
        padding-right: 6px;
      }

      @media (max-width: 900px) {
        .join-forms {
          flex-direction: column;
          gap: 12px;
        }
        .join-forms .newsletter {
          flex: 1 1 0;
          max-width: 100%;
        }
        .join-forms .join-extra {
          flex: 1 1 0;
          max-width: 100%;
        }
      }
    </style>
  </head>
  <body>
    <button id="scrollTop" onclick="window.scrollTo({top:0,behavior:'smooth'})">
      ‚Üë
    </button>

    <div class="container">
      <header>
        <div class="brand">
          <img
            src="images/logo-forzasbit.png"
            alt="Forza Sbit"
            style="width: 60px; height: 60px; border-radius: 12px"
          />
          <div>
            <h1>Forza Sbit</h1>
            <div style="font-size: 12px; color: var(--muted); font-weight: 500">
              Movimento civico
            </div>
          </div>
        </div>

        <nav class="header-nav">
          <ul>
            <li>
              <a href="#" onclick="navigateTo('home'); return false">Home</a>
            </li>
            <li>
              <a href="#" onclick="navigateTo('discorso'); return false"
                >Discorso</a
              >
            </li>
            <li>
              <a href="#" onclick="navigateTo('about'); return false"
                >Chi siamo</a
              >
            </li>
            <li>
              <a href="#" onclick="navigateTo('platform'); return false"
                >Proposta</a
              >
            </li>
            <li>
              <a href="#" onclick="navigateTo('stats'); return false"
                >Obiettivi</a
              >
            </li>
            <li>
              <a href="#" onclick="navigateTo('events'); return false"
                >Campagna</a
              >
            </li>
            <li>
              <a href="#" onclick="navigateTo('sostienici'); return false">SOSTIENICI</a>
            </li>
            <li>
              <a href="#" onclick="navigateTo('settings'); return false"
                >Impostazioni</a
              >
            </li>
          </ul>
        </nav>

        <div class="header-actions">
          <button
            class="btn btn-primary"
            onclick="navigateTo('join'); return false"
          >
            Iscriviti
          </button>
        </div>
      </header>

      <main>
        <section id="home" class="hero active">
          <div class="card">
            <h2>
              La forza di un sogno.<br /><span
                style="
                  color: #ffd700;
                  text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
                "
                >Cambiare SBIT</span
              >
            </h2>
            <p
              style="
                font-size: 15px;
                max-width: 520px;
                color: var(--muted);
                margin: 10px 0;
                line-height: 1.6;
              "
            >
              Una community unita. Meno parole, pi√π azioni. La politica degli
              Sbitters, per gli Sbitters.
            </p>

            <div
              style="
                margin-top: 20px;
                display: flex;
                gap: 12px;
                flex-wrap: wrap;
              "
            >
              <button class="btn btn-primary" onclick="openDonate()">
                ‚ú® Tesserati 2025
              </button>
              <button class="btn btn-ghost" onclick="navigateTo('platform')">
                üìã Agenda 2025
              </button>
              <button class="btn btn-ghost" onclick="openModal('newsletter')">
                üìß Newsletter
              </button>
            </div>

            <div class="social-share">
              <a
                href="https://t.me/forzasbit"
                target="_blank"
                class="social-btn"
                style="
                  background: #0088cc;
                  color: white;
                  text-decoration: none;
                  display: inline-flex;
                  align-items: center;
                  justify-content: center;
                "
                >üì± Telegram</a
              >
              <button
                class="social-btn"
                style="background: #1da1f2; color: white"
                onclick="shareSocial('twitter')"
              >
                üê¶ Twitter
              </button>
            </div>

            <div
              style="
                margin-top: 25px;
                padding-top: 20px;
                border-top: 1px solid rgba(255, 255, 255, 0.15);
              "
            >
              <h4
                style="
                  font-size: 16px;
                  margin-bottom: 15px;
                  color: var(--accent);
                  text-align: center;
                "
              >
                I Nostri Valori
              </h4>
              <div
                style="
                  display: grid;
                  grid-template-columns: repeat(2, 1fr);
                  gap: 12px;
                "
              >
                <div
                  style="
                    background: rgba(255, 255, 255, 0.08);
                    padding: 12px;
                    border-radius: 10px;
                    text-align: center;
                    transition: all 0.3s ease;
                    cursor: pointer;
                  "
                  onmouseover="this.style.background='rgba(255,255,255,.15)';this.style.transform='translateY(-3px)'"
                  onmouseout="this.style.background='rgba(255,255,255,.08)';this.style.transform='translateY(0)'"
                >
                  <div style="font-size: 24px; margin-bottom: 6px">‚ù§Ô∏è</div>
                  <div style="font-size: 13px; font-weight: 600">Amore</div>
                  <div
                    style="
                      font-size: 11px;
                      color: var(--muted);
                      margin-top: 4px;
                    "
                  >
                    Per tutti
                  </div>
                </div>
                <div
                  style="
                    background: rgba(255, 255, 255, 0.08);
                    padding: 12px;
                    border-radius: 10px;
                    text-align: center;
                    transition: all 0.3s ease;
                    cursor: pointer;
                  "
                  onmouseover="this.style.background='rgba(255,255,255,.15)';this.style.transform='translateY(-3px)'"
                  onmouseout="this.style.background='rgba(255,255,255,.08)';this.style.transform='translateY(0)'"
                >
                  <div style="font-size: 24px; margin-bottom: 6px">ü§ù</div>
                  <div style="font-size: 13px; font-weight: 600">Unit√†</div>
                  <div
                    style="
                      font-size: 11px;
                      color: var(--muted);
                      margin-top: 4px;
                    "
                  >
                    Community
                  </div>
                </div>
                <div
                  style="
                    background: rgba(255, 255, 255, 0.08);
                    padding: 12px;
                    border-radius: 10px;
                    text-align: center;
                    transition: all 0.3s ease;
                    cursor: pointer;
                  "
                  onmouseover="this.style.background='rgba(255,255,255,.15)';this.style.transform='translateY(-3px)'"
                  onmouseout="this.style.background='rgba(255,255,255,.08)';this.style.transform='translateY(0)'"
                >
                  <div style="font-size: 24px; margin-bottom: 6px">‚öñÔ∏è</div>
                  <div style="font-size: 13px; font-weight: 600">Giustizia</div>
                  <div
                    style="
                      font-size: 11px;
                      color: var(--muted);
                      margin-top: 4px;
                    "
                  >
                    Trasparenza
                  </div>
                </div>
                <div
                  style="
                    background: rgba(255, 255, 255, 0.08);
                    padding: 12px;
                    border-radius: 10px;
                    text-align: center;
                    transition: all 0.3s ease;
                    cursor: pointer;
                  "
                  onmouseover="this.style.background='rgba(255,255,255,.15)';this.style.transform='translateY(-3px)'"
                  onmouseout="this.style.background='rgba(255,255,255,.08)';this.style.transform='translateY(0)'"
                >
                  <div style="font-size: 24px; margin-bottom: 6px">üïäÔ∏è</div>
                  <div style="font-size: 13px; font-weight: 600">Pace</div>
                  <div
                    style="
                      font-size: 11px;
                      color: var(--muted);
                      margin-top: 4px;
                    "
                  >
                    Rispetto
                  </div>
                </div>
              </div>
              <div
                style="
                  text-align: center;
                  margin-top: 15px;
                  padding: 10px;
                  background: rgba(255, 215, 0, 0.1);
                  border-radius: 10px;
                  border: 1px solid rgba(255, 215, 0, 0.2);
                "
              >
                <p
                  style="
                    margin: 0;
                    font-size: 13px;
                    font-style: italic;
                    color: var(--muted);
                    line-height: 1.5;
                  "
                >
                  "Uniti sotto un'unica parola:
                  <strong style="color: var(--accent)">Libert√†</strong>"
                </p>
              </div>
            </div>
          </div>

          <aside class="card">
            <img
              src="images/slogan-voto.png"
              alt="Il tuo voto la nostra vittoria"
              style="width: 100%; border-radius: 12px"
            />
            <div style="margin-top: 15px; text-align: center">
              <div class="countdown" id="countdown">
                <div class="countdown-item">
                  <span class="countdown-number" id="days">00</span>
                  <span class="countdown-label">Giorni</span>
                </div>
                <div class="countdown-item">
                  <span class="countdown-number" id="hours">00</span>
                  <span class="countdown-label">Ore</span>
                </div>
                <div class="countdown-item">
                  <span class="countdown-number" id="minutes">00</span>
                  <span class="countdown-label">Min</span>
                </div>
                <div class="countdown-item">
                  <span class="countdown-number" id="seconds">00</span>
                  <span class="countdown-label">Sec</span>
                </div>
              </div>
              <p style="margin-top: 10px; font-size: 13px; color: var(--muted)">
                per le selezioni del nemiex
              </p>
            </div>
          </aside>
        </section>

        <section id="discorso" style="margin-top: 20px">
          <h2 style="text-align: center; margin-bottom: 20px">
            üì¢ Discorso Inaugurale
          </h2>
          <div
            class="card"
            style="
              background: rgba(255, 255, 255, 0.12);
              border: 2px solid rgba(255, 215, 0, 0.3);
              cursor: pointer;
              transition: all 0.3s ease;
            "
            onclick="openModal('discorso')"
            onmouseover="this.style.borderColor='rgba(255,215,0,.6)';this.style.transform='scale(1.02)'"
            onmouseout="this.style.borderColor='rgba(255,215,0,.3)';this.style.transform='scale(1)'"
          >
            <div style="text-align: center">
              <div
                style="
                  font-size: 16px;
                  font-weight: 700;
                  color: var(--accent);
                  margin-bottom: 6px;
                "
              >
                08/12/2025
              </div>
              <h3 style="margin: 0; font-size: 20px; margin-bottom: 10px">
                Oggi nasce un partito...
              </h3>
              <p
                style="
                  color: var(--muted);
                  font-size: 14px;
                  margin: 8px 0;
                  line-height: 1.5;
                  max-width: 700px;
                  margin-left: auto;
                  margin-right: auto;
                "
              >
                <strong>Ma, Presidente, che partito √® Forza Sbit?</strong><br />
                Forza Sbit √® il partito del cuore, dell'amore, per i propri
                figli, per i propri nipoti, per tutti. √à il partito che crede in
                Dio e nel suo amore per tutti noi...
              </p>
              <p
                style="
                  color: var(--accent);
                  font-size: 13px;
                  margin-top: 12px;
                  font-weight: 600;
                "
              >
                üëÜ Clicca per leggere il discorso completo
              </p>
            </div>
          </div>
        </section>

        <section id="stats">
          <h2 style="text-align: center; margin-bottom: 20px">
            üéØ I Nostri Obiettivi
          </h2>
          <div class="stats-grid">
            <div class="stat-card">
              <span class="stat-number" data-target="500">0</span>
              <div class="stat-label">Iscritti</div>
            </div>
            <div class="stat-card">
              <span class="stat-number" data-target="25">0</span>
              <div class="stat-label">Eventi</div>
            </div>
            <div class="stat-card">
              <span class="stat-number" data-target="100">0</span>
              <div class="stat-label">Soddisfazione %</div>
            </div>
            <div class="stat-card">
              <span class="stat-number" data-target="2025">0</span>
              <div class="stat-label">Anno</div>
            </div>
          </div>

          <div style="margin-top: 30px">
            <h3 style="text-align: center; margin-bottom: 20px">
              Indicatori di Progresso
            </h3>
            <div class="progress-section">
              <div class="progress-item">
                <div class="progress-label">
                  <span>Community Unita</span>
                  <span>75%</span>
                </div>
                <div class="progress-bar">
                  <div class="progress-fill" style="width: 75%"></div>
                </div>
              </div>
              <div class="progress-item">
                <div class="progress-label">
                  <span>Trasparenza</span>
                  <span>90%</span>
                </div>
                <div class="progress-bar">
                  <div class="progress-fill" style="width: 90%"></div>
                </div>
              </div>
              <div class="progress-item">
                <div class="progress-label">
                  <span>Partecipazione</span>
                  <span>65%</span>
                </div>
                <div class="progress-bar">
                  <div class="progress-fill" style="width: 65%"></div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section id="about">
          <h2 style="text-align: center; margin-bottom: 20px">üë• Chi Siamo</h2>
          <div class="card">
            <h3>La Nostra Missione</h3>
            <p style="color: var(--muted); line-height: 1.7; font-size: 15px">
              Forza Sbit √® un movimento civico indipendente nato dalla volont√†
              di rappresentare veramente la comunit√† degli Sbitters. Crediamo in
              una politica trasparente, partecipativa e orientata all'azione. La
              nostra missione √® dare voce a chi troppo spesso viene ignorato e
              costruire insieme un futuro migliore per SBIT.
            </p>
          </div>

          <div class="card" style="margin-top: 40px">
            <h3>Identit√† Visiva</h3>
            <div
              style="
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                gap: 16px;
                align-items: center;
                margin-top: 15px;
              "
            >
              <div style="text-align: center">
                <img
                  src="images/logo-forzasbit.png"
                  alt="Logo Forza Sbit"
                  style="
                    width: 100%;
                    max-height: 120px;
                    object-fit: contain;
                    transition: transform 0.3s ease;
                    cursor: pointer;
                  "
                  onmouseover="this.style.transform='scale(1.1)'"
                  onmouseout="this.style.transform='scale(1)'"
                  onclick="openModal('logo')"
                />
                <div
                  style="margin-top: 8px; font-size: 12px; color: var(--muted)"
                >
                  Logo Ufficiale
                </div>
              </div>
              <div style="text-align: center">
                <img
                  src="images/logo-bertoleo.png"
                  alt="Logo Bertoleo"
                  style="
                    width: 100%;
                    max-height: 120px;
                    object-fit: contain;
                    transition: transform 0.3s ease;
                    cursor: pointer;
                  "
                  onmouseover="this.style.transform='scale(1.1)'"
                  onmouseout="this.style.transform='scale(1)'"
                  onclick="openModal('logobertoleo')"
                />
                <div
                  style="margin-top: 8px; font-size: 12px; color: var(--muted)"
                >
                  Presidente
                </div>
              </div>
              <div style="text-align: center">
                <img
                  src="images/slogan-sogno.png"
                  alt="La forza di un sogno"
                  style="
                    width: 100%;
                    max-height: 120px;
                    object-fit: cover;
                    border-radius: 10px;
                    transition: transform 0.3s ease;
                    cursor: pointer;
                  "
                  onmouseover="this.style.transform='scale(1.1)'"
                  onmouseout="this.style.transform='scale(1)'"
                  onclick="openModal('slogan')"
                />
                <div
                  style="margin-top: 8px; font-size: 12px; color: var(--muted)"
                >
                  Slogan
                </div>
              </div>
            </div>
          </div>
        </section>

        <section id="platform">
          <h2 style="text-align: center; margin-bottom: 20px">
            üìã Agenda 2025
          </h2>
          <div class="card">
            <h3>I Nostri Impegni</h3>
            <ul style="line-height: 2; margin: 10px 0; font-size: 15px">
              <li>‚úÖ Una community unita e forte</li>
              <li>‚úÖ Meno parole, pi√π azioni concrete</li>
              <li>‚úÖ Ci√≤ che il popolo vuole, ci√≤ che il popolo ottiene</li>
              <li>‚úÖ Sbit agli Sbitters</li>
              <li>‚úÖ No a comportamenti tossici</li>
              <li>‚úÖ Pi√π amore e rispetto reciproco</li>
              <li>‚úÖ Sovranit√† agli Sbitters</li>
              <li>‚úÖ Milano capitale</li>
            </ul>
          </div>

          <div class="card" style="margin-top: 16px">
            <h3>Visualizza l'Agenda Completa</h3>
            <div
              style="
                display: flex;
                gap: 12px;
                flex-wrap: wrap;
                margin-top: 15px;
              "
            >
              <button class="btn btn-primary" onclick="openModal('agenda')">
                üìé Scarica Agenda PDF
              </button>
              <button class="btn btn-ghost" onclick="openModal('agendafull')">
                üìñ Leggi Online
              </button>
            </div>
          </div>
        </section>

        <section id="events">
          <h2 style="text-align: center; margin-bottom: 20px">
            üìÖ Eventi e Campagne
          </h2>

          <div class="card">
            <h3>Materiali Ufficiali</h3>
            <div
              style="
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 16px;
                margin-top: 15px;
              "
            >
              <div
                style="
                  cursor: pointer;
                  border-radius: 12px;
                  overflow: hidden;
                  transition: all 0.3s ease;
                "
                onclick="openModal('tesseramento')"
                onmouseover="this.style.transform='scale(1.05)'"
                onmouseout="this.style.transform='scale(1)'"
              >
                <img
                  src="images/banner-tesseramento-2025.png"
                  alt="Tesseramento 2025"
                  style="
                    width: 100%;
                    height: 200px;
                    object-fit: cover;
                    display: block;
                    border-radius: 12px;
                  "
                />
                <div
                  style="
                    text-align: center;
                    margin-top: 8px;
                    font-size: 13px;
                    font-weight: 600;
                    color: var(--accent);
                  "
                >
                  Tesseramento 2025
                </div>
              </div>
              <div
                style="
                  cursor: pointer;
                  border-radius: 12px;
                  overflow: hidden;
                  transition: all 0.3s ease;
                "
                onclick="openModal('agenda')"
                onmouseover="this.style.transform='scale(1.05)'"
                onmouseout="this.style.transform='scale(1)'"
              >
                <img
                  src="images/agenda-2025.png"
                  alt="Agenda 2025"
                  style="
                    width: 100%;
                    height: 200px;
                    object-fit: cover;
                    display: block;
                    border-radius: 12px;
                  "
                />
                <div
                  style="
                    text-align: center;
                    margin-top: 8px;
                    font-size: 13px;
                    font-weight: 600;
                    color: var(--accent);
                  "
                >
                  Agenda 2025
                </div>
              </div>
              <div
                style="
                  cursor: pointer;
                  border-radius: 12px;
                  overflow: hidden;
                  transition: all 0.3s ease;
                "
                onclick="openModal('consapevoli')"
                onmouseover="this.style.transform='scale(1.05)'"
                onmouseout="this.style.transform='scale(1)'"
              >
                <img
                  src="images/slogan-consapevoli.png"
                  alt="Siate Consapevoli"
                  style="
                    width: 100%;
                    height: 200px;
                    object-fit: cover;
                    display: block;
                    border-radius: 12px;
                  "
                />
                <div
                  style="
                    text-align: center;
                    margin-top: 8px;
                    font-size: 13px;
                    font-weight: 600;
                    color: var(--accent);
                  "
                >
                  Siate Consapevoli
                </div>
              </div>
              <div
                style="
                  cursor: pointer;
                  border-radius: 12px;
                  overflow: hidden;
                  transition: all 0.3s ease;
                "
                onclick="openModal('vota')"
                onmouseover="this.style.transform='scale(1.05)'"
                onmouseout="this.style.transform='scale(1)'"
              >
                <img
                  src="images/slogan-vota-consapevolmente.png"
                  alt="Votate Consapevolmente"
                  style="
                    width: 100%;
                    height: 200px;
                    object-fit: cover;
                    display: block;
                    border-radius: 12px;
                  "
                />
                <div
                  style="
                    text-align: center;
                    margin-top: 8px;
                    font-size: 13px;
                    font-weight: 600;
                    color: var(--accent);
                  "
                >
                  Votate Consapevolmente
                </div>
              </div>
            </div>
          </div>
        </section>

        <section id="gallery">
          <h2 style="text-align: center; margin-bottom: 20px">
            üì∏ Galleria Eventi
          </h2>
          <div class="card">
            <p
              style="
                color: var(--muted);
                margin-bottom: 20px;
                text-align: center;
              "
            >
              Rivedi i momenti salienti dei nostri eventi e raccolte di
              community.
            </p>
            <div
              id="gallery-grid"
              style="
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 16px;
                margin-top: 20px;
              "
            >
              <!-- Galleria generata con JS -->
            </div>
          </div>
        </section>

        <section id="sondaggi">
          <h2 style="text-align: center; margin-bottom: 20px">
            üìä Sondaggi della Community
          </h2>
          <div
            id="polls-container"
            style="display: flex; flex-direction: column; gap: 20px"
          >
            <!-- Sondaggi generati con JS -->
          </div>
        </section>

        <section id="timeline">
          <h2 style="text-align: center; margin-bottom: 20px">
            üìú La Nostra Storia
          </h2>
          <div
            id="timeline-container"
            style="position: relative; padding: 20px 0"
          >
            <!-- Timeline generata con JS -->
          </div>
        </section>

        <section id="sostienici">
          <h2 style="text-align: center; margin-bottom: 20px; font-size: 48px;">
            VOTA BERTOLEO
          </h2>
          <div class="card" style="text-align: center;">
            <p style="font-size: 18px; color: var(--muted); margin-bottom: 30px;">
              Il tuo voto √® fondamentale per il cambiamento. Compila il form per esprimere il tuo sostegno!
            </p>
            <a href="https://forms.gle/wsZiuQ2QkXNQ5UH38" target="_blank" class="btn btn-primary" style="display: inline-block; padding: 15px 30px; font-size: 18px;">
              üó≥Ô∏è Vai al Form di Voto
            </a>
          </div>
        </section>

        <section id="settings">
          <h2 style="text-align: center; margin-bottom: 20px">
            ‚öôÔ∏è Impostazioni
          </h2>

          <div class="card">
            <h3>üåô Tema</h3>
            <p style="color: var(--muted); margin-bottom: 15px">
              Cambia l'aspetto del sito a tuo piacimento.
            </p>
            <button
              class="btn btn-primary"
              id="theme-toggle-btn"
              onclick="toggleTheme()"
              style="width: 100%"
            >
              üåô Attiva Tema Scuro
            </button>
          </div>

          <div class="card">
            <h3>üîî Notifiche</h3>
            <p style="color: var(--muted); margin-bottom: 15px">
              Rimani aggiornato su eventi importanti di Forza Sbit.
            </p>
            <div style="display: flex; gap: 10px; flex-direction: column">
              <label
                style="
                  display: flex;
                  align-items: center;
                  gap: 10px;
                  cursor: pointer;
                  padding: 10px;
                  border-radius: 10px;
                  background: rgba(255, 255, 255, 0.08);
                  transition: all 0.2s ease;
                "
                onmouseover="this.style.background='rgba(255,255,255,.12)'"
                onmouseout="this.style.background='rgba(255,255,255,.08)'"
              >
                <input
                  type="checkbox"
                  id="notif-events"
                  checked
                  style="
                    width: 18px;
                    height: 18px;
                    cursor: pointer;
                    accent-color: var(--accent);
                  "
                />
                <span>üìÖ Notifiche Eventi</span>
              </label>
              <label
                style="
                  display: flex;
                  align-items: center;
                  gap: 10px;
                  cursor: pointer;
                  padding: 10px;
                  border-radius: 10px;
                  background: rgba(255, 255, 255, 0.08);
                  transition: all 0.2s ease;
                "
                onmouseover="this.style.background='rgba(255,255,255,.12)'"
                onmouseout="this.style.background='rgba(255,255,255,.08)'"
              >
                <input
                  type="checkbox"
                  id="notif-updates"
                  checked
                  style="
                    width: 18px;
                    height: 18px;
                    cursor: pointer;
                    accent-color: var(--accent);
                  "
                />
                <span>üì¢ Aggiornamenti Sito</span>
              </label>
              <label
                style="
                  display: flex;
                  align-items: center;
                  gap: 10px;
                  cursor: pointer;
                  padding: 10px;
                  border-radius: 10px;
                  background: rgba(255, 255, 255, 0.08);
                  transition: all 0.2s ease;
                "
                onmouseover="this.style.background='rgba(255,255,255,.12)'"
                onmouseout="this.style.background='rgba(255,255,255,.08)'"
              >
                <input
                  type="checkbox"
                  id="notif-surveys"
                  checked
                  style="
                    width: 18px;
                    height: 18px;
                    cursor: pointer;
                    accent-color: var(--accent);
                  "
                />
                <span>üìä Nuovi Sondaggi</span>
              </label>
            </div>
          </div>


          <div class="card" style="margin-top: 20px">
            <h3>‚ÑπÔ∏è Informazioni</h3>
            <div
              style="
                background: rgba(255, 255, 255, 0.08);
                padding: 15px;
                border-radius: 10px;
                margin-top: 15px;
              "
            >
              <div
                style="
                  margin-bottom: 10px;
                  display: flex;
                  justify-content: space-between;
                "
              >
                <span style="color: var(--muted)">Versione Sito</span>
                <span style="color: var(--accent); font-weight: 600">2.0</span>
              </div>
              <div
                style="
                  margin-bottom: 10px;
                  display: flex;
                  justify-content: space-between;
                "
              >
                <span style="color: var(--muted)">Ultimo Aggiornamento</span>
                <span style="color: var(--accent); font-weight: 600"
                  >Dec 2025</span
                >
              </div>
              <div
                style="
                  margin-bottom: 0;
                  display: flex;
                  justify-content: space-between;
                "
              >
                <span style="color: var(--muted)">Contatti</span>
                <span style="color: var(--accent); font-weight: 600"
                  >@forzasbit</span
                >
              </div>
            </div>
          </div>

          <div
            class="card"
            style="
              background: rgba(255, 255, 255, 0.08);
              border: 2px solid rgba(255, 255, 255, 0.1);
            "
          >
            <h3 style="margin-bottom: 15px">üîó Link Utili</h3>
            <div style="display: flex; flex-direction: column; gap: 10px">
              <a
                href="https://t.me/forzasbit"
                target="_blank"
                class="btn btn-ghost"
                style="text-decoration: none; text-align: center"
                >üì± Telegram Community</a
              >
              <button
                class="btn btn-ghost"
                onclick="sendFeedback()"
                style="width: 100%"
              >
                üí¨ Invia Feedback
              </button>
            </div>
          </div>
        </section>

        <section id="join" class="join-section">
          <h2 style="text-align: center; margin-bottom: 18px">
            üìß Iscriviti e Contattaci
          </h2>

          <div class="card">
            <img
              src="images/azzurra.png"
              alt="Tesseramento 2025"
              class="join-illustration"
              onclick="openModal('vote')"
            />

            <h3>Sostienici</h3>
            <p
              style="color: var(--muted); line-height: 1.6; margin-bottom: 15px"
            >
              Ogni voto e ogni supporto conta. Unisciti a noi per costruire
              insieme il futuro di Forza Sbit.
            </p>
            <button
              class="btn btn-primary"
              onclick="openDonate()"
              style="width: 100%"
            >
              ‚ú® Tesserati 2025 - Quota 1 biscotto milka all'anno
            </button>
          </div>

          <div class="join-forms">
            <div class="newsletter">
              <h3>üìß Newsletter</h3>
              <p style="color: var(--muted); margin: 10px 0; font-size: 14px">
                Resta aggiornato su eventi, iniziative e novit√† di Forza Sbit.
              </p>
              <form
                class="newsletter-form"
                onsubmit="return subscribeNewsletter(event)"
              >
                <input
                  type="email"
                  id="newsletter-email"
                  placeholder="La tua email"
                  required
                />
                <button class="btn btn-primary" type="submit">Iscriviti</button>
              </form>
            </div>

            <div class="card">
              <h3>üí¨ Contattaci</h3>
              <p style="color: var(--muted); margin-bottom: 15px">
                Hai domande o vuoi collaborare con noi? Scrivi un messaggio!
              </p>
              <form id="contact-form" onsubmit="return submitContact(event)">
                <input
                  type="text"
                  id="name"
                  placeholder="Nome e cognome"
                  required
                />
                <input type="email" id="email" placeholder="Email" required />
                <textarea
                  id="message"
                  placeholder="Scrivi il tuo messaggio"
                  required
                ></textarea>
                <div
                  style="
                    display: flex;
                    gap: 10px;
                    align-items: center;
                    margin-top: 10px;
                  "
                >
                  <button class="btn btn-primary" type="submit" style="flex: 1">
                    üì® Invia Messaggio
                  </button>
                  <button
                    class="btn btn-ghost"
                    type="button"
                    onclick="resetContact()"
                  >
                    üîÑ Ripulisci
                  </button>
                </div>
              </form>
            </div>

            <div class="card join-extra">
              <h3>üéÅ Vantaggi Iscrizione</h3>
              <p
                style="
                  color: var(--muted);
                  margin-bottom: 12px;
                  line-height: 1.5;
                "
              >
                Iscrivendoti avrai accesso a contenuti e vantaggi esclusivi
                riservati ai membri.
              </p>
              <ul
                style="
                  color: var(--muted);
                  margin-bottom: 12px;
                  line-height: 1.6;
                  padding-left: 18px;
                "
              >
                <li>Accesso ad eventi riservati</li>
                <li>Newsletter prioritaria</li>
                <li>Sconti su gadget e materiali</li>
              </ul>
              <div
                style="
                  display: flex;
                  gap: 8px;
                  justify-content: center;
                  margin-top: 8px;
                "
              >
                <button
                  class="btn btn-primary"
                  onclick="openDonate()"
                  style="flex: 1; padding: 8px 12px"
                >
                  Sostieni
                </button>
                <button
                  class="btn btn-ghost"
                  onclick="downloadBenefit()"
                  style="flex: 1; padding: 8px 12px"
                >
                  Scarica Tessera
                </button>
              </div>
            </div>
          </div>

          <div
            class="card"
            style="
              margin-top: 20px;
              background: rgba(255, 215, 0, 0.1);
              border: 2px solid rgba(255, 215, 0, 0.2);
            "
          >
            <h3 style="color: var(--accent); text-align: center">
              üîó Seguici Online
            </h3>
            <div
              style="
                display: flex;
                gap: 12px;
                flex-wrap: wrap;
                justify-content: center;
                margin-top: 15px;
              "
            >
              <a
                href="https://t.me/forzasbit"
                target="_blank"
                class="social-btn"
                style="
                  background: #0088cc;
                  color: white;
                  text-decoration: none;
                  display: inline-flex;
                  align-items: center;
                  justify-content: center;
                "
                >üì± Telegram</a
              >
            </div>
          </div>
        </section>
      </main>

      <footer>
        <div
          style="
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 12px;
            flex-wrap: wrap;
            margin-bottom: 15px;
          "
        >
          <div style="font-size: 14px">
            ¬© <strong>Forza Sbit</strong> ‚Äî Tutti i diritti riservati
          </div>
          <div style="color: var(--muted); font-size: 13px">
            üìß info@forzasbit.example ‚Ä¢ üìû +39 012 345 6789
          </div>
        </div>
        <div style="color: var(--muted); font-size: 12px; opacity: 0.8">
          Costruiamo insieme il futuro di SBIT ‚ú®
        </div>
      </footer>
    </div>

    <!-- Modal -->
    <div id="modal" class="modal">
      <div class="modal-content">
        <span class="modal-close" onclick="closeModal()">&times;</span>
        <div id="modal-body"></div>
      </div>
    </div>

    <script>
      // NAVIGAZIONE SEZIONI
      function navigateTo(section) {
        // Nascondi tutte le sezioni
        document.querySelectorAll("section").forEach((el) => {
          el.classList.remove("active");
        });
        document.querySelectorAll(".hero").forEach((el) => {
          el.classList.remove("active");
        });
        document.querySelectorAll(".sections-grid").forEach((el) => {
          el.classList.remove("active");
        });

        // Mostra la sezione richiesta
        const targetSection = document.getElementById(section);
        if (targetSection) {
          targetSection.classList.add("active");
          // Aggiorna statistiche se vai alle impostazioni
          if (section === "settings") {
            setTimeout(() => {
              updatePersonalStats();
            }, 100);
          }
          // Scorri in alto
          window.scrollTo({ top: 0, behavior: "smooth" });
        }
      }

      // Inizializza mostrando solo la home
      document.addEventListener("DOMContentLoaded", () => {
        navigateTo("home");
      });

      // Eventi
      const events = [];

      function addEvent(e) {
        e.preventDefault();
        const title = document.getElementById("evt-title").value.trim();
        const date = document.getElementById("evt-date").value.trim();
        const place = document.getElementById("evt-place").value.trim();
        const id = Date.now();
        events.unshift({ id, title, date, place });
        renderEvents();
        document.getElementById("event-form").reset();
        showNotification("Evento aggiunto con successo! üéâ");
        return false;
      }

      function renderEvents() {
        const list = document.getElementById("events-list");
        list.innerHTML = "";
        if (events.length === 0) {
          list.innerHTML =
            '<div style="color:var(--muted);text-align:center;padding:20px">üìÖ Nessun evento ancora. Aggiungine uno!</div>';
          return;
        }
        events.forEach((ev) => {
          const div = document.createElement("div");
          div.className = "card";
          div.style.marginBottom = "10px";
          div.style.padding = "15px";
          div.innerHTML = `
          <div style="display:flex;justify-content:space-between;align-items:start;gap:15px">
            <div style="flex:1">
              <strong style="font-size:16px;display:block;margin-bottom:5px">${
                ev.title
              }</strong>
              <div style="color:var(--muted);font-size:13px">üìÖ ${
                ev.date
              } ‚Äî üìç ${ev.place || "Luogo da definire"}</div>
            </div>
            <button onclick="deleteEvent(${
              ev.id
            })" style="background:none;border:none;color:var(--muted);cursor:pointer;font-size:18px" title="Elimina">üóëÔ∏è</button>
          </div>
        `;
          list.appendChild(div);
        });
      }

      function deleteEvent(id) {
        const index = events.findIndex((e) => e.id === id);
        if (index > -1) {
          events.splice(index, 1);
          renderEvents();
          showNotification("Evento eliminato");
        }
      }

      // Contact Form
      function submitContact(e) {
        e.preventDefault();
        const name = document.getElementById("name").value.trim();
        const email = document.getElementById("email").value.trim();
        const msg = document.getElementById("message").value.trim();
        if (!name || !email || !msg) {
          showNotification("Compila tutti i campi", "error");
          return false;
        }
        showNotification(
          "Grazie " +
            name +
            "! Messaggio inviato con successo. Ti risponderemo presto! üì®"
        );
        document.getElementById("contact-form").reset();
        return false;
      }

      function resetContact() {
        document.getElementById("contact-form").reset();
        showNotification("Form resettato");
      }

      function previewImage(e) {
        const p = document.getElementById("img-preview");
        p.innerHTML = "";
        const file = e.target.files[0];
        if (!file) return;
        const img = document.createElement("img");
        img.style.width = "100%";
        img.style.maxHeight = "180px";
        img.style.objectFit = "cover";
        img.src = URL.createObjectURL(file);
        p.appendChild(img);
      }

      function openDonate() {
        openModal("donate");
      }

      // Countdown Timer
      const targetDate = new Date("2025-12-15").getTime();
      function updateCountdown() {
        const now = new Date().getTime();
        const distance = targetDate - now;

        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor(
          (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
        );
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);

        document.getElementById("days").textContent = String(days).padStart(
          2,
          "0"
        );
        document.getElementById("hours").textContent = String(hours).padStart(
          2,
          "0"
        );
        document.getElementById("minutes").textContent = String(
          minutes
        ).padStart(2, "0");
        document.getElementById("seconds").textContent = String(
          seconds
        ).padStart(2, "0");

        if (distance < 0) {
          document.getElementById("countdown").innerHTML =
            '<p style="color:var(--accent);font-size:20px;font-weight:bold">üéâ √à arrivato il momento!</p>';
        }
      }
      setInterval(updateCountdown, 1000);
      updateCountdown();

      // Stats Counter Animation
      function animateCounter(el) {
        const target = parseInt(el.getAttribute("data-target"));
        const duration = 2000;
        const increment = target / (duration / 16);
        let current = 0;

        const timer = setInterval(() => {
          current += increment;
          if (current >= target) {
            el.textContent = target;
            clearInterval(timer);
          } else {
            el.textContent = Math.floor(current);
          }
        }, 16);
      }

      // Intersection Observer for animations
      const observerOptions = {
        threshold: 0.1,
        rootMargin: "0px 0px -50px 0px",
      };
      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("animated");
            if (entry.target.classList.contains("stat-number")) {
              const current = entry.target.textContent;
              if (current === "0") {
                animateCounter(entry.target);
              }
            }
          }
        });
      }, observerOptions);

      document
        .querySelectorAll(".stat-number")
        .forEach((el) => observer.observe(el));

      // Scroll to Top
      const scrollTopBtn = document.getElementById("scrollTop");
      window.addEventListener("scroll", () => {
        if (window.pageYOffset > 300) {
          scrollTopBtn.classList.add("show");
        } else {
          scrollTopBtn.classList.remove("show");
        }
      });

      // Social Share
      function shareSocial(platform) {
        const url = window.location.href;
        const text = "Scopri Forza Sbit - Movimento Civico";
        let shareUrl = "";

        switch (platform) {
          case "facebook":
            shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(
              url
            )}`;
            break;
          case "twitter":
            shareUrl = `https://twitter.com/intent/tweet?url=${encodeURIComponent(
              url
            )}&text=${encodeURIComponent(text)}`;
            break;
          case "whatsapp":
            shareUrl = `https://wa.me/?text=${encodeURIComponent(
              text + " " + url
            )}`;
            break;
        }
        if (shareUrl) window.open(shareUrl, "_blank");
      }

      // Newsletter
      function subscribeNewsletter(e) {
        e.preventDefault();
        const email = document.getElementById("newsletter-email").value.trim();
        if (!email) {
          showNotification("Inserisci un'email valida", "error");
          return false;
        }
        showNotification(
          "üéâ Iscrizione completata! Controlla la tua email per confermare."
        );
        document.getElementById("newsletter-email").value = "";
        return false;
      }

      // Modal
      function openModal(type) {
        const modal = document.getElementById("modal");
        const body = document.getElementById("modal-body");
        const contents = {
          about:
            '<h2 style="margin-top:0">Chi Siamo</h2><p style="line-height:1.8">Forza Sbit √® un movimento civico nato dalla passione e dalla determinazione di persone che credono in un cambiamento reale. La nostra storia inizia con l\'idea che la politica debba essere accessibile, trasparente e al servizio della comunit√†.</p><p style="line-height:1.8">Siamo un gruppo eterogeneo di studenti, lavoratori, cittadini che condividono valori comuni: onest√†, trasparenza, inclusivit√† e impegno concreto per il miglioramento della nostra comunit√†.</p>',
          logo: '<h2 style="margin-top:0">üé® Logo Ufficiale</h2><img src="images/images/logo-forzasbit.png" alt="Logo Forza Sbit" style="width:100%;max-height:300px;object-fit:contain;margin-top:15px" />',
          logobertoleo:
            '<h2 style="margin-top:0">üë§ Logo Presidente</h2><img src="images/logo-bertoleo.png" alt="Logo Bertoleo" style="width:100%;max-height:300px;object-fit:contain;margin-top:15px" />',
          slogan:
            '<h2 style="margin-top:0">‚ú® Il Nostro Slogan</h2><img src="images/slogan-sogno.png" alt="La forza di un sogno" style="width:100%;border-radius:12px;margin-top:15px" />',
          newsletter:
            '<h2 style="margin-top:0">üìß Newsletter</h2><p>Iscriviti per ricevere aggiornamenti!</p>',
          donate:
            '<h2 style="margin-top:0">‚ú® Tesseramento 2025</h2><p style="line-height:1.8">Unisciti a Forza Sbit e sostieni il cambiamento! Con il tuo tesseramento contribuisci a mantenere il movimento indipendente e a finanziare iniziative concrete per la comunit√†.</p><p style="margin-top:20px"><strong>Quota annuale: 1 biscotto milka all\'anno</strong></p><p style="color:var(--muted)">Inserisci qui il link al form di pagamento o sistema di donazione.</p>',
          agenda:
            '<h2 style="margin-top:0">üìã Agenda 2025</h2><img src="images/agenda-2025.png" alt="Agenda 2025" style="width:100%;border-radius:12px;margin-top:15px" />',
          agendafull:
            '<h2 style="margin-top:0">üìã Agenda 2025 Completa</h2><p style="line-height:1.8;color:#fff;margin-bottom:15px">Scopri tutti i nostri impegni per il 2025:</p><ul style="line-height:2;margin:15px 0;font-size:15px"><li>‚úÖ Una community unita e forte</li><li>‚úÖ Meno parole, pi√π azioni concrete</li><li>‚úÖ Ci√≤ che il popolo vuole, ci√≤ che il popolo ottiene</li><li>‚úÖ Sbit agli Sbitters</li><li>‚úÖ No a comportamenti tossici</li><li>‚úÖ Pi√π amore e rispetto reciproco</li><li>‚úÖ Sovranit√† agli Sbitters</li><li>‚úÖ Milano capitale</li></ul>',
          vote: '<h2 style="margin-top:0">üó≥Ô∏è Il Tuo Voto, La Nostra Vittoria</h2><p style="line-height:1.8">Ogni voto conta. Il tuo sostegno √® fondamentale per realizzare il cambiamento che vogliamo vedere. Unisciti a noi e fai sentire la tua voce!</p>',
          consapevoli:
            '<h2 style="margin-top:0">üéØ Siate Consapevoli</h2><img src="images/slogan-consapevoli.png" alt="Siate Consapevoli Bertoleo" style="width:100%;border-radius:12px;margin-top:15px" />',
          vota: '<h2 style="margin-top:0">üó≥Ô∏è Votate Consapevolmente</h2><img src="images/slogan-vota-consapevolmente.png" alt="Votate Consapevolmente" style="width:100%;border-radius:12px;margin-top:15px" />',
          tesseramento:
            '<h2 style="margin-top:0">‚ú® Tesseramento 2025</h2><img src="images/banner-tesseramento-2025.png" alt="Tesseramento 2025" style="width:100%;border-radius:12px;margin-top:15px" /><p style="margin-top:15px;line-height:1.8">Unisciti a Forza Sbit! Quota: 1 biscotto milka all\'anno</p>',
          discorso:
            '<div style="text-align:center;margin-bottom:25px"><div style="font-size:18px;font-weight:700;color:var(--accent);margin-bottom:10px">08/12/2025</div><h2 style="margin:0;font-size:28px">Oggi nasce un partito...</h2></div><div style="line-height:1.8;font-size:16px;color:#fff;max-width:900px;margin:0 auto;padding:0 15px"><p style="margin-bottom:15px"><strong>Ma, Presidente,<br>che partito √® Forza Sbit?</strong></p><p style="margin-bottom:15px">Forza Sbit √® il partito del cuore,<br>Forza Sbit √® il partito dell\'amore,<br>per i propri figli,<br>per i propri nipoti,<br>per tutti.</p><p style="margin-bottom:15px">Forza Sbit √® il partito che crede in Dio<br>e nel suo amore per tutti noi.</p><p style="margin-bottom:15px">Forza Sbit √® il partito che aiuta chi ha bisogno.<br>√à il partito che d√† a chi non ha. Forza Sbit<br>√® il partito della casa che dovremmo avere tutti.</p><p style="margin-bottom:15px">Forza Sbit √® il partito del mondo senza frontiere,<br>del mondo che si ama,<br>del mondo unito e rispettoso di tutte le community.</p><p style="margin-bottom:15px">Forza Sbit √® il partito del mondo che ama la pace,<br>del mondo che considera la guerra la follia delle follie,<br>dove si uccidono degli altri che nemmeno si conoscono.</p><p style="margin-bottom:15px">Forza Sbit √® il partito delle community che si aiutano l\'un l\'altro.<br>Forza Sbit √® il partito per me, per te, per tutti noi.</p><p style="margin-bottom:15px;margin-top:25px"><strong>‚Äî Ma lei di che partito √®?</strong></p><p style="margin-bottom:20px">Sono anch\'io di Forza Sbit,<br>del partito che ho fondato io, che vorrei possa essere cos√¨,<br>convincendo tutti gli sbitters di sbit e del mondo.</p><div style="text-align:center;margin-top:30px;padding-top:20px;border-top:1px solid rgba(255,255,255,.2)"><a href="https://t.me/forzasbit" target="_blank" style="display:inline-block;padding:12px 24px;background:linear-gradient(135deg,#0088cc,#006699);color:white;text-decoration:none;border-radius:50px;font-weight:600;font-size:16px;transition:all .3s ease;box-shadow:0 4px 15px rgba(0,136,204,.3)">üì± Telegram: @forzasbit</a></div></div>',
        };
        const html = contents[type] || "<p>Contenuto non disponibile</p>";
        body.innerHTML = html;
        const modalContent = modal.querySelector(".modal-content");
        // If the content contains an image, center and fit it without inner scroll
        if (/<img[\s\S]*?>/i.test(html)) {
          modalContent.style.overflow = "hidden";
          body.style.display = "flex";
          body.style.flexDirection = "column";
          body.style.alignItems = "center";
          body.style.justifyContent = "center";
          body.style.gap = "16px";
          body.style.padding = "10px 0";
        } else {
          modalContent.style.overflow = "auto";
          body.style.display = "";
          body.style.flexDirection = "";
          body.style.alignItems = "";
          body.style.justifyContent = "";
          body.style.gap = "";
          body.style.padding = "";
        }
        modal.classList.add("show");
      }

      function closeModal() {
        document.getElementById("modal").classList.remove("show");
      }

      window.onclick = function (event) {
        const modal = document.getElementById("modal");
        if (event.target == modal) {
          closeModal();
        }
      };

      // Notification
      function showNotification(message, type = "success") {
        const notification = document.createElement("div");
        notification.style.cssText = `
        position:fixed;
        top:20px;
        right:20px;
        background:${
          type === "error"
            ? "#ff4444"
            : "linear-gradient(135deg, var(--blue), var(--blue-soft))"
        };
        color:white;
        padding:15px 25px;
        border-radius:12px;
        box-shadow:0 8px 30px rgba(0,0,0,.3);
        z-index:3000;
        animation:slideInRight .3s ease;
        font-weight:600;
        max-width:350px
      `;
        notification.textContent = message;
        document.body.appendChild(notification);

        setTimeout(() => {
          notification.style.animation = "slideOutRight .3s ease";
          setTimeout(() => notification.remove(), 300);
        }, 3000);
      }

      // Initialize
      loadPollData();
      renderEvents();
      initializeGallery();
      initializePolls();
      initializeTimeline();

      // Funzione per esportare dati personali
      function exportPersonalData() {
        const pollVotes = localStorage.getItem("forzasbit_polls");
        const data = {
          polls: pollVotes ? JSON.parse(pollVotes) : null,
          exportDate: new Date().toISOString(),
        };
        const json = JSON.stringify(data, null, 2);
        const blob = new Blob([json], { type: "application/json" });
        const url = URL.createObjectURL(blob);
        const link = document.createElement("a");
        link.href = url;
        link.download = `forza-sbit-dati-${new Date().getTime()}.json`;
        link.click();
        showNotification("üì• Dati esportati!");
      }

      // Funzione per resettare i dati personali
      function resetPersonalData() {
        if (
          confirm(
            "Sei sicuro? Questo canceller√† i tuoi dati personali (Sondaggi)"
          )
        ) {
          localStorage.removeItem("forzasbit_polls");
          location.reload();
        }
      }

      // Funzione per mostrare statistiche personali
      function updatePersonalStats() {
        const container = document.getElementById("stats-personal");
        if (!container) return;

        const pollsData_saved = localStorage.getItem("forzasbit_polls");

        let html = "";

        if (pollsData_saved) {
          const totalVotes = JSON.parse(pollsData_saved).reduce((sum, poll) => {
            return sum + poll.votes.reduce((a, b) => a + b, 0);
          }, 0);

          html += `
          <div style="background:rgba(255,255,255,.1);border-radius:12px;padding:15px">
            <div style="font-weight:600;margin-bottom:8px">üìä Voti ai Sondaggi</div>
            <div style="font-size:24px;color:var(--accent);margin:10px 0">${totalVotes}</div>
            <div style="color:var(--muted);font-size:13px">Hai votato in ${
              JSON.parse(pollsData_saved).length
            } sondaggi</div>
          </div>
        `;
        } else {
          html += `
          <div style="background:rgba(255,255,255,.08);border-radius:12px;padding:15px;color:var(--muted);text-align:center">
            Non hai ancora votato nei sondaggi. <a href="#" onclick="navigateTo('sondaggi'); return false" style="color:var(--accent);text-decoration:underline">Vai ai sondaggi</a>
          </div>
        `;
        }

        container.innerHTML = html;
      }

      // Tema scuro/chiaro
      function toggleTheme() {
        const body = document.body;
        const isDarkMode = body.classList.contains("dark-mode");
        const btn = document.getElementById("theme-toggle-btn");

        if (isDarkMode) {
          body.classList.remove("dark-mode");
          btn.textContent = "üåô Attiva Tema Scuro";
          localStorage.setItem("forzasbit_theme", "light");
        } else {
          body.classList.add("dark-mode");
          btn.textContent = "‚òÄÔ∏è Attiva Tema Chiaro";
          localStorage.setItem("forzasbit_theme", "dark");
        }
        showNotification(
          isDarkMode ? "‚òÄÔ∏è Tema Chiaro Attivato" : "üåô Tema Scuro Attivato"
        );
      }

      // Carica tema salvato
      function loadTheme() {
        const saved = localStorage.getItem("forzasbit_theme");
        if (saved === "dark") {
          document.body.classList.add("dark-mode");
          const btn = document.getElementById("theme-toggle-btn");
          if (btn) btn.textContent = "‚òÄÔ∏è Attiva Tema Chiaro";
        }
      }
      loadTheme();

      // Notifiche (simulated)
      function toggleNotification(id) {
        const checkbox = document.getElementById(id);
        if (checkbox) {
          const titles = {
            "notif-events": "Notifiche Eventi",
            "notif-updates": "Aggiornamenti Sito",
            "notif-surveys": "Nuovi Sondaggi",
          };
          const status = checkbox.checked ? "attivate" : "disattivate";
          showNotification(`${titles[id]} ${status}! üîî`);
        }
      }

      // Keyboard shortcuts
      document.addEventListener("keydown", (e) => {
        if (e.key.toLowerCase() === "h") navigateTo("home");
        if (e.key.toLowerCase() === "s") navigateTo("sondaggi");
        if (e.key.toLowerCase() === "j") navigateTo("join");
        if (e.key === "ArrowUp")
          window.scrollTo({ top: 0, behavior: "smooth" });
      });

      // Feedback
      function sendFeedback() {
        const feedback = prompt(
          'üìß Quale feedback vuoi darci? (O "Annulla" per chiudere)'
        );
        if (feedback) {
          showNotification("‚úÖ Grazie per il tuo feedback! " + feedback);
        }
      }

      // Add animation styles
      const style = document.createElement("style");
      style.textContent = `
      @keyframes slideInRight{
        from{transform:translateX(400px);opacity:0}
        to{transform:translateX(0);opacity:1}
      }
      @keyframes slideOutRight{
        from{transform:translateX(0);opacity:1}
        to{transform:translateX(400px);opacity:0}
      }
    `;
      document.head.appendChild(style);

      // ========== QUIZ POLITICO ==========
      const quizData = [
        {
          question: "Cosa ti importa di pi√π?",
          options: [
            { text: "Comunit√† unita e solidale", category: "unit√†" },
            { text: "Trasparenza e giustizia", category: "giustizia" },
            { text: "Pace e rispetto", category: "pace" },
            { text: "Amore e inclusivit√†", category: "amore" },
          ],
        },
        {
          question: "Quale dovrebbe essere la priorit√† politica?",
          options: [
            { text: "Aiutare chi ha bisogno", category: "amore" },
            { text: "Eliminare la corruzione", category: "giustizia" },
            { text: "Rafforzare i legami comunitari", category: "unit√†" },
            { text: "Promuovere la non-violenza", category: "pace" },
          ],
        },
        {
          question: "Come dovrebbe agire un partito?",
          options: [
            { text: "Con azioni concrete e veloci", category: "unit√†" },
            { text: "Con massima trasparenza", category: "giustizia" },
            { text: "Ascoltando tutti pacificamente", category: "pace" },
            { text: "Con compassione per tutti", category: "amore" },
          ],
        },
        {
          question: "Qual √® il tuo valore principale?",
          options: [
            { text: "La coesione del gruppo", category: "unit√†" },
            { text: "La legalit√†", category: "giustizia" },
            { text: "L'armonia sociale", category: "pace" },
            { text: "L'empatia", category: "amore" },
          ],
        },
        {
          question: "Quale iniziativa ti attrarebbe di pi√π?",
          options: [
            { text: "Progetti comunitari", category: "unit√†" },
            { text: "Azioni anti-corruzione", category: "giustizia" },
            { text: "Dialoghi interculturali", category: "pace" },
            { text: "Aiuto ai bisognosi", category: "amore" },
          ],
        },
      ];

      const categoryInfo = {
        unit√†: {
          emoji: "ü§ù",
          title: "Pilastro dell'Unit√†",
          description:
            "Sei una persona che crede nella forza della comunit√†. Per te, il cambiamento arriva quando siamo uniti e lavoriamo insieme verso un obiettivo comune.",
        },
        giustizia: {
          emoji: "‚öñÔ∏è",
          title: "Pilastro della Giustizia",
          description:
            "Credi fermamente in trasparenza e legalit√†. Un sistema giusto e imparziale √® la base per una societ√† migliore.",
        },
        pace: {
          emoji: "üïäÔ∏è",
          title: "Pilastro della Pace",
          description:
            "Il tuo cuore batte per un mondo rispettoso e pacifico. Credi che il dialogo e il comprensione siano la soluzione.",
        },
        amore: {
          emoji: "‚ù§Ô∏è",
          title: "Pilastro dell'Amore",
          description:
            "Guida tutti i tuoi valori. Credi che l'amore, la compassione e l'inclusivit√† siano la chiave per un mondo migliore.",
        },
      };

      let quizAnswers = [];

      function initializeQuiz() {
        const container = document.getElementById("quiz-container");
        container.innerHTML = "";
        quizAnswers = [];

        quizData.forEach((q, idx) => {
          const questionDiv = document.createElement("div");
          questionDiv.className = "quiz-question";
          questionDiv.id = `quiz-q-${idx}`;

          let html = `<h4 style="margin:0 0 15px 0;color:#fff">Domanda ${
            idx + 1
          }/5: ${q.question}</h4>`;

          q.options.forEach((opt, optIdx) => {
            const optId = `opt-${idx}-${optIdx}`;
            html += `
            <label style="display:flex;align-items:center;margin-bottom:10px;cursor:pointer">
              <input type="radio" name="q${idx}" value="${opt.category}" id="${optId}" style="margin:0;margin-right:12px" onchange="selectQuizOption(${idx}, '${opt.category}', '${optId}')" />
              <span>${opt.text}</span>
            </label>
          `;
          });

          questionDiv.innerHTML = html;
          container.appendChild(questionDiv);
        });

        const submitBtn = document.createElement("button");
        submitBtn.className = "btn btn-primary";
        submitBtn.style.width = "100%";
        submitBtn.style.marginTop = "20px";
        submitBtn.textContent = "üéØ Vedi Risultato";
        submitBtn.onclick = completeQuiz;
        container.appendChild(submitBtn);
      }

      function selectQuizOption(questionIdx, category, optId) {
        document
          .getElementById(`quiz-q-${questionIdx}`)
          .classList.add("answered");
        quizAnswers[questionIdx] = category;
      }

      function completeQuiz() {
        if (quizAnswers.length < 5) {
          showNotification(
            "Rispondi a tutte le domande prima di continuare!",
            "error"
          );
          return;
        }

        const counts = {};
        quizAnswers.forEach((a) => {
          counts[a] = (counts[a] || 0) + 1;
        });

        const winner = Object.keys(counts).reduce((a, b) =>
          counts[a] > counts[b] ? a : b
        );
        const info = categoryInfo[winner];

        // Salva il risultato
        const quizResult = {
          category: winner,
          answers: quizAnswers,
          date: new Date().toLocaleDateString("it-IT"),
          time: new Date().toLocaleTimeString("it-IT"),
        };
        localStorage.setItem(
          "forzasbit_quiz_result",
          JSON.stringify(quizResult)
        );

        const container = document.getElementById("quiz-container");
        container.innerHTML = `
        <div class="quiz-result" style="animation:fadeIn .6s ease">
          <div class="result-badge">${info.emoji}</div>
          <h3 style="margin:15px 0;color:#fff">${info.title}</h3>
          <p style="color:var(--muted);line-height:1.8;margin:15px 0;font-size:15px">
            ${info.description}
          </p>
          <div style="margin-top:20px;padding-top:20px;border-top:1px solid rgba(255,255,255,.2)">
            <p style="color:var(--accent);font-weight:600;margin:10px 0">Sei uno sbitter consapevole! üéâ</p>
            <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:15px;justify-content:center">
              <button class="btn btn-primary" onclick="shareQuizResult()" style="padding:8px 16px">üîó Condividi Risultato</button>
              <button class="btn btn-ghost" onclick="initializeQuiz()" style="padding:8px 16px">üîÑ Ripeti Quiz</button>
            </div>
          </div>
        </div>
      `;
        showNotification(
          "Quiz completato! Scopri quale pilastro ti rappresenta. üéØ"
        );
      }

      function shareQuizResult() {
        const result = JSON.parse(
          localStorage.getItem("forzasbit_quiz_result") || "{}"
        );
        const categoryEmoji = categoryInfo[result.category].emoji;
        const categoryTitle = categoryInfo[result.category].title;
        const text = `Ho scoperto che sono il Pilastro ${categoryTitle} ${categoryEmoji} di Forza Sbit! Fai il quiz anche tu!`;
        const url = window.location.href;
        const shareUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(
          text
        )}&url=${encodeURIComponent(url)}`;
        window.open(shareUrl, "_blank");
        showNotification("üîó Risultato condiviso!");
      }

      // ========== GALLERIA EVENTI ==========
      const galleryImages = [
        { src: "images/azzurra.png", alt: "Evento 1" },
        { src: "images/slogan-sogno.png", alt: "Evento 2" },
        { src: "images/slogan-consapevoli.png", alt: "Evento 3" },
        { src: "images/slogan-vota-consapevolmente.png", alt: "Evento 4" },
        { src: "images/agenda-2025.png", alt: "Evento 5" },
        { src: "images/banner-tesseramento-2025.png", alt: "Evento 6" },
      ];

      function initializeGallery() {
        const grid = document.getElementById("gallery-grid");
        grid.innerHTML = "";

        galleryImages.forEach((img, idx) => {
          const item = document.createElement("div");
          item.className = "gallery-item";
          item.innerHTML = `
          <img src="${img.src}" alt="${img.alt}" />
          <div class="gallery-item-overlay">üëÅÔ∏è</div>
        `;
          item.onclick = () => openGalleryModal(idx);
          grid.appendChild(item);
        });
      }

      function openGalleryModal(idx) {
        const img = galleryImages[idx];
        const modal = document.getElementById("modal");
        const body = document.getElementById("modal-body");
        const prevIdx = idx > 0 ? idx - 1 : galleryImages.length - 1;
        const nextIdx = idx < galleryImages.length - 1 ? idx + 1 : 0;

        body.innerHTML = `
        <div style="position:relative">
          <h2 style="margin:0 0 15px 0;text-align:center">${img.alt}</h2>
          <img src="${img.src}" alt="${
          img.alt
        }" style="width:100%;border-radius:12px;max-height:400px;object-fit:contain" />
          <div style="margin-top:20px;display:flex;justify-content:space-between;align-items:center;gap:15px">
            <button class="btn btn-ghost" onclick="openGalleryModal(${prevIdx})" style="padding:8px 16px">‚Üê Precedente</button>
            <div style="text-align:center;color:var(--muted);font-size:13px;flex:1">
              Foto ${idx + 1} di ${galleryImages.length}
            </div>
            <button class="btn btn-ghost" onclick="openGalleryModal(${nextIdx})" style="padding:8px 16px">Successiva ‚Üí</button>
          </div>
          <div style="margin-top:15px;display:flex;gap:10px;justify-content:center;flex-wrap:wrap">
            <button class="btn btn-ghost" style="padding:6px 12px;font-size:12px" onclick="downloadGalleryImage('${
              img.src
            }')">üì• Scarica</button>
            <button class="btn btn-ghost" style="padding:6px 12px;font-size:12px" onclick="shareGalleryImage('${
              img.alt
            }')">üîó Condividi</button>
          </div>
        </div>
      `;
        modal.classList.add("show");
      }

      function downloadGalleryImage(src) {
        const link = document.createElement("a");
        link.href = src;
        link.download = src.split("/").pop();
        link.click();
        showNotification("üì• Download avviato!");
      }

      // Scarica/mostra la tessera o i materiali per i membri
      function downloadBenefit() {
        showNotification("üì• Avvio download tessera...");
        const link = document.createElement("a");
        link.href = "images/azzurra.png";
        link.download = "tessera-azzurra.png";
        document.body.appendChild(link);
        link.click();
        link.remove();
      }

      function shareGalleryImage(alt) {
        const text = `Guarda questa foto da Forza Sbit: ${alt}`;
        const url = window.location.href;
        const shareUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(
          text
        )}&url=${encodeURIComponent(url)}`;
        window.open(shareUrl, "_blank");
      }

      // ========== SONDAGGI ==========
      const pollsData = [
        {
          title: "Quale priorit√† per il 2025?",
          options: ["Comunit√†", "Giustizia", "Pace", "Inclusione"],
          votes: [85, 120, 95, 110],
        },
        {
          title: "Come stai seguendo Forza Sbit?",
          options: ["Telegram", "Sito Web", "Passaparola", "Social Media"],
          votes: [200, 85, 95, 60],
        },
        {
          title: "Ti interessa il tesseramento?",
          options: ["Molto", "Abbastanza", "Poco", "Non so"],
          votes: [150, 110, 40, 35],
        },
      ];

      function initializePolls() {
        const container = document.getElementById("polls-container");
        container.innerHTML = "";

        pollsData.forEach((poll, idx) => {
          const totalVotes = poll.votes.reduce((a, b) => a + b, 0);

          let html = `<div class="poll-card">
          <h3 style="margin:0 0 20px 0;color:#fff">${poll.title}</h3>
          <div style="font-size:13px;color:var(--muted);margin-bottom:15px">üìä ${totalVotes} risposte</div>`;

          poll.options.forEach((opt, optIdx) => {
            const percentage =
              totalVotes > 0
                ? Math.round((poll.votes[optIdx] / totalVotes) * 100)
                : 0;
            html += `
            <div class="poll-option" onclick="votePoll(${idx}, ${optIdx})" style="cursor:pointer;border-radius:10px;padding:10px;transition:all .2s ease" onmouseover="this.style.background='rgba(255,255,255,.12)'" onmouseout="this.style.background='transparent'">
              <input type="radio" name="poll${idx}" id="poll-${idx}-${optIdx}" />
              <label for="poll-${idx}-${optIdx}" style="flex:1;cursor:pointer;margin:0">${opt}</label>
              <span style="color:var(--accent);font-weight:600;min-width:40px;text-align:right">${percentage}%</span>
            </div>
            <div class="poll-bar">
              <div class="poll-fill" style="width:${percentage}%"></div>
            </div>
          `;
          });

          html += `<div style="margin-top:15px;text-align:right"><button class="btn btn-ghost" style="padding:6px 12px;font-size:12px" onclick="sharePoll(${idx})">üîó Condividi Sondaggio</button></div></div>`;

          const pollDiv = document.createElement("div");
          pollDiv.innerHTML = html;
          container.appendChild(pollDiv);
        });
      }

      function votePoll(pollIdx, optIdx) {
        const radio = document.getElementById(`poll-${pollIdx}-${optIdx}`);
        if (radio) {
          radio.checked = true;
          pollsData[pollIdx].votes[optIdx]++;
          initializePolls();
          showNotification("‚úÖ Grazie per il tuo voto!");
          savePollData();
        }
      }

      function sharePoll(idx) {
        const poll = pollsData[idx];
        const text = `Vota nel sondaggio di Forza Sbit: "${poll.title}" - Scopri cosa pensa la community!`;
        const url = window.location.href;
        const shareUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(
          text
        )}&url=${encodeURIComponent(url)}`;
        window.open(shareUrl, "_blank");
      }

      function savePollData() {
        localStorage.setItem("forzasbit_polls", JSON.stringify(pollsData));
      }

      function loadPollData() {
        const saved = localStorage.getItem("forzasbit_polls");
        if (saved) {
          const data = JSON.parse(saved);
          pollsData.forEach((p, idx) => {
            if (data[idx]) {
              p.votes = data[idx].votes;
            }
          });
        }
      }

      // ========== TIMELINE ==========
      const timelineData = [
        {
          date: "08/12/2024",
          title: "Fondazione di Forza Sbit",
          desc: "Nasce il movimento civico con la visione di cambiare Sbit.",
        },
        {
          date: "15/01/2025",
          title: "Primo Evento Pubblico",
          desc: "Oltre 100 sbitters presenti al lancio ufficiale della campagna.",
        },
        {
          date: "10/02/2025",
          title: "Inaugurazione Sedi Locali",
          desc: "Apertura dei primi 5 punti di riferimento territoriali.",
        },
        {
          date: "15/03/2025",
          title: "Campagna Tesseramento",
          desc: "Raccolta ufficiale di adesioni al movimento.",
        },
        {
          date: "01/04/2025",
          title: "Forum della Community",
          desc: "Primo incontro pubblico con discussioni programmatiche.",
        },
        {
          date: "15/12/2025",
          title: "Obiettivo 2025",
          desc: "Selezioni ufficiali di Forza Sbit e celebrazione del progetto.",
        },
      ];

      function initializeTimeline() {
        const container = document.getElementById("timeline-container");
        container.innerHTML = "";

        timelineData.forEach((item) => {
          const timelineItem = document.createElement("div");
          timelineItem.className = "timeline-item";
          timelineItem.innerHTML = `
          <div class="timeline-date">${item.date}</div>
          <div class="timeline-title">${item.title}</div>
          <div class="timeline-description">${item.desc}</div>
        `;
          container.appendChild(timelineItem);
        });
      }
    </script>
  </body>
</html>
